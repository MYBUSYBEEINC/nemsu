<script>//SHOW PAYMENT DETAILS// multiple select checkbox     jQuery(document).ready(function() {   jQuery('#selec_tall_p').click(function(event) {  //on click        if(this.checked) { // check select status            jQuery('.checkbox_payment').each(function() { //loop through each checkbox                this.checked = true;  //select all checkboxes with class "checkbox_payment"            });        }else{            jQuery('.checkbox_payment').each(function() { //loop through each checkbox                this.checked = false; //deselect all checkboxes with class "checkbox_payment"            });        }    });});jQuery(document).ready(function() {	var table = jQuery('#table_payment').DataTable( {	 stateSave: true,	 responsive: true,    ajax: ajaxurl+'?action=payment_json_ajax_request',	 "aoColumnDefs" : [ { 'bSortable' : false, className: 'all', 'aTargets' : ['nosort'],}, {className: 'all', orderable: true, targets:['sh_ow']} ], 	"language": {     "loadingRecords": "<?php _e('No Customer Add',WL_A_P_SYSTEM); ?>"  },        		} );	} );	//fetch records on  modeljQuery(document).ready(function(){    jQuery('#view_payment').on('show.bs.modal', function (e) {        var payment_id = jQuery(e.relatedTarget).data('id');        jQuery.ajax({            type : 'post',            url : ajaxurl+'?action=payment_fetch_ajax_request',              data :  'payment_info='+ payment_id, //Pass $id            success : function(data){			jQuery('#ap_fetch_payment_record').html(data);            }        });     });});//single deletejQuery(document).on("click", '.del_payment', function (event) {	var d_id = jQuery(this).attr('href');	var res = d_id.substring(1);jQuery.confirm({			 title: '<?php _e("Delete Confirm",WL_A_P_SYSTEM); ?>',			theme: 'black',			 content: '<?php _e("Are you sure to Delete Payment?",WL_A_P_SYSTEM); ?>',			animation: 'rotate',			closeAnimation: 'rotateXR',			icon: 'far fa-check-square',			confirmButton: '<?php _e("Delete",WL_A_P_SYSTEM); ?>',			cancelButton: '<?php _e("Cancel",WL_A_P_SYSTEM); ?>',			 confirm: function () { jQuery.ajax({ data:"payment_id="+res, url: location.href, type:"POST", success:function(data) { jQuery.notify("<?php _e('Payment Delete Successfully',WL_A_P_SYSTEM); ?>", {type:"success",icon:"check",align:"center", verticalAlign:"middle",color: "#3c763d", background: "#dff0d8"});  jQuery('#table_payment').DataTable().ajax.reload(null, false); } }) }, });});// multiple deletejQuery(function(){ jQuery("a.delete_payment").click(function(){ ids=new Array() a=0; jQuery("#payment_check:checked").each(function(i){ ids[i]=jQuery(this).val(); })  if(ids.length == 0) { 		jQuery.notify("<?php _e('Please Select Atleast One Payment To Delete',WL_A_P_SYSTEM); ?>", {type:"success",icon:"check",align:"center", verticalAlign:"middle",color: "#3c763d", background: "#dff0d8"}); } else{ jQuery.confirm({	 	title: '<?php _e("Please Confirm",WL_A_P_SYSTEM); ?>',			theme: 'black',			 content: '<?php _e("Are you sure to Delete Payment?",WL_A_P_SYSTEM); ?>',			animation: 'rotate',			closeAnimation: 'rotateXR',			icon: 'far fa-check-square',			confirmButton: '<?php _e("Delete",WL_A_P_SYSTEM); ?>',			cancelButton: '<?php _e("Cancel",WL_A_P_SYSTEM); ?>',			 confirm: function () {				 jQuery(".delete_payment").prop('disabled', true);jQuery('.delete_payment').html('<i class="fas fa-spinner fa-spin"></i><?php _e("Deleting",WL_A_P_SYSTEM); ?>');					  jQuery.ajax({ data:"payment_check_id="+ids, url: location.href, type:"POST", success:function(res) {	 	jQuery(".delete_payment").prop('disabled', false);	jQuery('.delete_payment').html('<?php _e("Delete",WL_A_P_SYSTEM); ?>');  jQuery.notify("<?php _e('Payment Delete Successfully',WL_A_P_SYSTEM); ?>", {type:"success",icon:"check",align:"center", verticalAlign:"middle",color: "#3c763d", background: "#dff0d8"});//jQuery('input[type=checkbox]').attr('checked',false);   jQuery('#table_payment').DataTable().ajax.reload(null, false); if(res==1) { jQuery("#payment_check:checked").each(function(){jQuery(this).parent.remove(); }) } } }) }, });} return false; })});</script><?phpglobal $wpdb;$ap_payment=$wpdb->get_results("select * from $wpdb->prefix"."apt_payment");//update status//single deleteif(isset($_REQUEST['payment_id'])){   $del=$_REQUEST['payment_id'];   $wpdb->delete( $wpdb->prefix.'apt_payment', array( 'id' => $del ));  }// multi deleteif(isset($_REQUEST['payment_check_id'])){   $id_array =$_REQUEST['payment_check_id'];  $arr=explode(',',$id_array); echo $id_count = count($arr);for($i=0;$i<=$id_count;$i++){    	$del=$arr[$i];	$wpdb->delete( $wpdb->prefix.'apt_payment', array( 'id' =>$del ) );	$wpdb->show_errors();	$wpdb->print_error();}}?><div class="panel panel-default">						<div class="panel-heading"><i class="far fa-money-bill-alt"></i><span class="panel_heading"><?php _e('Payment',WL_A_P_SYSTEM); ?></span> 						<div class="theme-export">								<a href="<?php echo plugins_url('payment-all-csv.php', __FILE__ ); ?>" class="btn theme-customer"><?php _e('Print All',WL_A_P_SYSTEM); ?> </a>						</div>						</div>												<div class="panel-body">							<div class="theme-add-customer">										<div class="modal fade" id="view_payment" role="dialog">												<div class="modal-dialog">													<!-- Modal content-->													<div class="modal-content">														<div class="modal-header">															<h4 class="modal-title"><?php _e('Payment',WL_A_P_SYSTEM); ?> </h4>														</div>														<div id="ap_fetch_payment_record">																												</div>													</div>												</div>										</div>								</div>							<div id="paymentdiv" class="table-responsive">							<table id="table_payment" class="display" cellspacing="0" width="100%">								<thead>									<tr>										<th style="padding: 10px 12px;" class="nosort"><input type="checkbox" name="selec_tall_p" id="selec_tall_p" value=""></th>										<th class="sh_ow"><?php _e('Type',WL_A_P_SYSTEM); ?></th>										<th><?php _e('Customer',WL_A_P_SYSTEM); ?></th>										<th><?php _e('Customer Email',WL_A_P_SYSTEM); ?></th>										<th><?php _e('Staff',WL_A_P_SYSTEM); ?></th>										<th><?php _e('Service',WL_A_P_SYSTEM); ?></th>										<th><?php _e('Date',WL_A_P_SYSTEM); ?></th>										<th><?php _e('Amount',WL_A_P_SYSTEM); ?></th>										<th class="nosort"><?php _e('Status',WL_A_P_SYSTEM); ?></th>										<th class="nosort"><?php _e('Detail',WL_A_P_SYSTEM); ?></th>										<th class="nosort"><?php _e('Delete',WL_A_P_SYSTEM); ?></th>									</tr>								</thead>															</table>							</div>							<div>								<div colspan="4" class="ap-left">									<a href="#" class="delete_payment btn btn-link"><i class="fas fa-trash-o" aria-hidden="true"></i><?php _e(' Delete',WL_A_P_SYSTEM); ?></a>								</div>							</div>													</div></div>